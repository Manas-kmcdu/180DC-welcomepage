<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Welcome Letter Page</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      margin: 0;
      display: flex;
      flex-direction: row;
      min-height: 100vh;
      background: #f0f8f5;
    }

    .left-section, .right-section {
      flex: 1;
      padding: 2rem;
      overflow-y: auto;
    }

    .left-section {
      background: #e2f0e8;
      color: #083d2b;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }

    .letter {
      max-width: 600px;
      background: #fffdf9;
      padding: 1.5rem;
      border-radius: 10px;
      border: 1px solid #e0e0e0;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      font-family: 'Georgia', serif;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .letter p {
      margin-bottom: 1rem;
    }

    .mask {
      position: absolute;
      top: 170px;
      left: 80px;
      width: 70px;
      height: 25px;
      background: url('https://www.transparenttextures.com/patterns/cardboard.png');
      background-size: cover;
      z-index: 10;
      cursor: pointer;
    }

    .mask.hidden {
      display: none;
    }

    .right-section {
      background: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }

    h3 {
      margin-top: 0;
      color: #083d2b;
    }

    #puzzle-container {
      display: grid;
      grid-template-columns: repeat(10, 30px);
      gap: 4px;
      margin: 1rem 0;
    }

    .cell {
      width: 30px;
      height: 30px;
      background: #d0eee0;
      border: 1px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
    }

    input[type="text"], button {
      padding: 0.5rem;
      margin: 0.25rem 0;
      width: 200px;
    }

    #congrats, #countdown-container, #future-message {
      margin-top: 1.5rem;
      text-align: center;
      color: #083d2b;
    }

    #future-message input {
      width: 220px;
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }

      .mask {
        top: 250px;
        left: 40px;
      }

      #puzzle-container {
        grid-template-columns: repeat(10, 26px);
        gap: 3px;
      }

      .cell {
        width: 26px;
        height: 26px;
        font-size: 13px;
      }

      input[type="text"], button {
        width: 100%;
      }

      #future-message input {
        width: 100%;
      }

      .letter {
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <div class="left-section">
    <div class="letter">
      <p><strong>Dear Fresher,</strong></p>
      <p>Welcome to <strong>Kirori Mal College</strong> ‚Äî your new home for the next three years, and perhaps a piece of your heart for much longer.</p>
      <p>Take a deep breath. <strong>You‚Äôve made it.</strong></p>
      <p>KMC isn‚Äôt just another college within Delhi University. It‚Äôs a place that will surprise you in the best ways. You‚Äôll meet people who challenge your thinking, discover spaces you‚Äôll claim as your own (maybe under the tree near the Arts block or over a cup of chai at Sudama), and slowly build your own rhythm here.</p>
      <p>Ask questions. Join societies. Get lost in the North Campus lanes. Volunteer for something that scares you. Speak up, even when your voice shakes. You‚Äôll thank yourself later.</p>
      <p>And if you ever feel like you don‚Äôt belong ‚Äî pause, breathe, and look around. So many of us started exactly like that‚Ä¶ and found something beautiful along the way.</p>
      <p>Here‚Äôs to friendships that begin in classrooms, stories that unfold in corridors, and a version of yourself you‚Äôre yet to meet.</p>
      <p><strong>We‚Äôre so glad you‚Äôre here.</strong></p>
      <p style="font-style: italic; color: #555;">With warmth,<br>A senior, a stranger ‚Äî or someone who just remembers what it felt like to start this journey.</p>
    </div>
    <div class="mask" title="Click to peek"></div>
  </div>

  <div class="right-section">
    <h3>Find the hidden words!</h3>
    <div id="puzzle-container"></div>
    <input type="text" id="word-input" placeholder="Enter word">
    <button onclick="checkWord()">Submit</button>

    <div id="congrats" style="display:none;">
      üéâ Congratulations on finding all the words!<br>
      See you on <strong>5th August</strong> in the Canteen Lawn.
    </div>

    <div id="countdown-container" style="display:none;">
      ‚è≥ Countdown: <span id="countdown"></span>
    </div>

    <div id="future-message" style="display:none;">
      <h4>üì© Message to Your Future Self:</h4>
      <input type="text" id="future-input" placeholder="Write a message...">
      <button onclick="saveMessage()">Save</button>
      <p id="saved-msg" style="color: green;"></p>
    </div>
  </div>

  <script>
    const words = ["WELCOME", "KMC", "JOURNEY", "GROWTH", "FUN"];
    let foundWords = new Set();

    const grid = [
      ["G", "R", "O", "W", "T", "H", "P", "J", "O", "U"],
      ["O", "U", "R", "N", "E", "Y", "Q", "V", "L", "E"],
      ["M", "B", "F", "S", "D", "C", "K", "N", "C", "T"],
      ["C", "L", "A", "H", "M", "I", "E", "W", "R", "Z"],
      ["W", "E", "L", "C", "O", "M", "E", "U", "S", "N"],
      ["H", "D", "Z", "L", "Q", "T", "Y", "N", "G", "B"],
      ["K", "M", "C", "J", "V", "I", "R", "O", "U", "H"],
      ["N", "T", "E", "A", "S", "L", "B", "I", "F", "D"],
      ["F", "U", "N", "E", "P", "G", "H", "A", "K", "M"],
      ["Y", "L", "P", "W", "E", "C", "R", "M", "T", "Q"]
    ];

    const container = document.getElementById('puzzle-container');

    function drawGrid() {
      container.innerHTML = '';
      for (let i = 0; i < grid.length; i++) {
        for (let j = 0; j < grid[i].length; j++) {
          const cell = document.createElement('div');
          cell.className = 'cell';
          cell.textContent = grid[i][j];
          container.appendChild(cell);
        }
      }
    }

    function checkWord() {
      const input = document.getElementById('word-input').value.trim().toUpperCase();
      if (!input) return;

      if (input === "180DC") {
        document.getElementById('congrats').innerHTML = "üí• You found the easter egg!"; 
        document.getElementById('congrats').style.display = 'block';
        document.getElementById('countdown-container').style.display = 'none';
        document.getElementById('future-message').style.display = 'none';
        document.querySelector('.mask').classList.add('hidden');
        return;
      }

      if (words.includes(input) && !foundWords.has(input)) {
        foundWords.add(input);
      }

      if (foundWords.size === words.length) {
        document.getElementById('congrats').style.display = 'block';
        document.getElementById('countdown-container').style.display = 'block';
        document.getElementById('future-message').style.display = 'block';
        document.querySelector('.mask').classList.add('hidden');
        startCountdown();
      }

      document.getElementById('word-input').value = '';
    }

    function startCountdown() {
      const eventDate = new Date("2025-08-05T10:00:00+05:30");
      const countdownEl = document.getElementById('countdown');

      const updateCountdown = () => {
        const now = new Date();
        const diff = eventDate - now;

        if (diff <= 0) {
          countdownEl.textContent = "üéâ It's today!";
          clearInterval(interval);
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hrs = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const mins = Math.floor((diff / 1000 / 60) % 60);
        const secs = Math.floor((diff / 1000) % 60);

        countdownEl.textContent = `${days}d ${hrs}h ${mins}m ${secs}s`;
      };

      updateCountdown();
      const interval = setInterval(updateCountdown, 1000);
    }

    function saveMessage() {
      const msg = document.getElementById('future-input').value;
      if (msg) {
        document.getElementById('saved-msg').textContent = "‚úÖ Message saved!";
        console.log("Saved message:", msg);
      }
    }

    document.querySelector('.mask').addEventListener('click', function () {
      this.classList.add('hidden');
    });

    drawGrid();
  </script>
</body>
</html>
