<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Welcome Letter Page</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      margin: 0;
      display: flex;
      flex-direction: row;
      min-height: 100vh;
      background: #f0f8f5;
    }

    .left-section, .right-section {
      flex: 1;
      padding: 2rem;
      overflow-y: auto;
    }

    .left-section {
      background: #e2f0e8;
      color: #083d2b;
      position: relative;
    }

    .letter {
      border: 2px solid #083d2b;
      padding: 1rem;
      border-radius: 10px;
      background: white;
      white-space: pre-wrap;
    }

    .mask {
      position: absolute;
      top: 180px;
      left: 70px;
      width: 80px;
      height: 25px;
      background: url('https://www.transparenttextures.com/patterns/cardboard.png');
      background-size: cover;
      z-index: 10;
      cursor: pointer;
    }

    .mask.hidden {
      display: none;
    }

    .right-section {
      background: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #puzzle-container {
      display: grid;
      grid-template-columns: repeat(10, 30px);
      gap: 5px;
      margin: 1rem 0;
    }

    .cell {
      width: 30px;
      height: 30px;
      background: #d0eee0;
      border: 1px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
    }

    input[type="text"], button {
      padding: 0.5rem;
      margin: 0.5rem 0;
    }

    #congrats, #countdown-container, #future-message {
      margin-top: 2rem;
      text-align: center;
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }

      .mask {
        top: 260px;
        left: 40px;
      }

      .cell {
        width: 26px;
        height: 26px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="left-section">
    <div class="letter">
      Dear Fresher,<br><br>
      Welcome to Kirori Mal College.<br><br>
      We are delighted to have you join us as part of this unforgettable journey. Here‚Äôs to the beginning of something magical. Let your curiosity lead the way, and your creativity shine!<br><br>
      From all of us at 180DC, we hope this year fills you with experiences, challenges, and growth.<br><br>
      Best Wishes,<br>
      180DC KMC
    </div>
    <div class="mask" title="Click to peek"></div>
  </div>

  <div class="right-section">
    <h3>Find the hidden words!</h3>
    <div id="puzzle-container"></div>
    <input type="text" id="word-input" placeholder="Enter word">
    <button onclick="checkWord()">Submit</button>

    <div id="congrats" style="display:none;">
      üéâ Congratulations on finding all the words!<br>
      See you on <strong>5th August</strong> in the Canteen Lawn.
    </div>

    <div id="countdown-container" style="display:none;">
      ‚è≥ Countdown: <span id="countdown"></span>
    </div>

    <div id="future-message" style="display:none;">
      <h4>üì© Message to Your Future Self:</h4>
      <input type="text" id="future-input" placeholder="Write a message...">
      <button onclick="saveMessage()">Save</button>
      <p id="saved-msg" style="color: green;"></p>
    </div>
  </div>

  <script>
    const words = ["WELCOME", "KMC", "JOURNEY", "GROWTH", "FUN"];
    let foundWords = new Set();

    const grid = [
      ["G", "R", "O", "W", "T", "H", "P", "J", "O", "U"],
      ["O", "U", "R", "N", "E", "Y", "Q", "V", "L", "E"],
      ["M", "B", "F", "S", "D", "C", "K", "N", "C", "T"],
      ["C", "L", "A", "H", "M", "I", "E", "W", "R", "Z"],
      ["W", "E", "L", "C", "O", "M", "E", "U", "S", "N"],
      ["H", "D", "Z", "L", "Q", "T", "Y", "N", "G", "B"],
      ["K", "M", "C", "J", "V", "I", "R", "O", "U", "H"],
      ["N", "T", "E", "A", "S", "L", "B", "I", "F", "D"],
      ["F", "U", "N", "E", "P", "G", "H", "A", "K", "M"],
      ["Y", "L", "P", "W", "E", "C", "R", "M", "T", "Q"]
    ];

    const container = document.getElementById('puzzle-container');

    function drawGrid() {
      container.innerHTML = '';
      for (let i = 0; i < grid.length; i++) {
        for (let j = 0; j < grid[i].length; j++) {
          const cell = document.createElement('div');
          cell.className = 'cell';
          cell.textContent = grid[i][j];
          container.appendChild(cell);
        }
      }
    }

    function checkWord() {
      const input = document.getElementById('word-input').value.trim().toUpperCase();
      if (!input) return;

      if (input === "180DC") {
        document.getElementById('congrats').innerHTML = "üí• Didn‚Äôt know you were this good!";
        document.getElementById('congrats').style.display = 'block';
        document.getElementById('countdown-container').style.display = 'none';
        document.getElementById('future-message').style.display = 'none';
        document.querySelector('.mask').classList.add('hidden');
        return;
      }

      if (words.includes(input) && !foundWords.has(input)) {
        foundWords.add(input);
      }

      if (foundWords.size === words.length) {
        document.getElementById('congrats').style.display = 'block';
        document.getElementById('countdown-container').style.display = 'block';
        document.getElementById('future-message').style.display = 'block';
        document.querySelector('.mask').classList.add('hidden');
        startCountdown();
      }

      document.getElementById('word-input').value = '';
    }

    function startCountdown() {
      const eventDate = new Date("2025-08-05T10:00:00+05:30");
      const countdownEl = document.getElementById('countdown');

      const updateCountdown = () => {
        const now = new Date();
        const diff = eventDate - now;

        if (diff <= 0) {
          countdownEl.textContent = "üéâ It's today!";
          clearInterval(interval);
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hrs = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const mins = Math.floor((diff / 1000 / 60) % 60);
        const secs = Math.floor((diff / 1000) % 60);

        countdownEl.textContent = `${days}d ${hrs}h ${mins}m ${secs}s`;
      };

      updateCountdown();
      const interval = setInterval(updateCountdown, 1000);
    }

    function saveMessage() {
      const msg = document.getElementById('future-input').value;
      if (msg) {
        document.getElementById('saved-msg').textContent = "‚úÖ Message saved!";
        console.log("Saved message:", msg);
      }
    }

    document.querySelector('.mask').addEventListener('click', function () {
      this.classList.add('hidden');
    });

    drawGrid();
  </script>
</body>
</html>
